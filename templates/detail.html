{% extends 'layout.html' %}

{% block body %}
<!-- <style>
div {
    border: 1px solid black;
}
</style> -->
<div class="row mt-3 ml-3">
    <div class="col-md-3">
        <img class= 'ml-4' src="{{data['imUrl'].loc[index]}}" height="360px" width="260px" style="border: 1px solid gray;">
    </div>
    <div class="col-md-9">
        <div class='row' style='width:60%'>
            <h2>{{
                data['title'].loc[index]
            }}</h2>
        </div>
        <div class="row mt-2" style="height: 7.5%;">
            <img class="mr-1" src="/static/star.jpg" width=20px height=20px>
            <p>
                {{
                    round_rating
                }}
            </p>
        </div>
        <div class="row">
            <font>{{
                data['count_review'].loc[index]
            }} Reviews
        </font>
        </div>
        <div class="row mt-5">
            <font size=6 color='orange'><b>$ {{
                data['price'].loc[index]
            }}
            </b>
            </font>
        </div>

        <div class="row mt-5">
            <a href="/"><font size=2 class="mt-auto" style='color:  rgb(63, 185, 84);'>
            Go Back Homepage
            </font>
            </a>
        </div>
    </div>
</div>
    <div class="row ml-3 mt-3 " style='width:95%;'>
        <div class="col-md-12">
        <div class="card">
            <div class="card-header">
                Product Description
            </div>
            <div class="card-body">
                {{data['description'].loc[index]}}
            </div>
        </div>
        </div>
    </div>
    <div class="row ml-3 mt-3" style="width: 95%;">
        <div class="col-md-12">
        <div class="card">
            <div class="card-header">
                Review
            </div>
            <div class="card-body">
                {% for i in review_idx %}
                <div class="row mt-4">
                    <div class="col-md-2">
                        <div class="row justify-content-center">
                            <img src="/static/user.jpg" height=100px alt="">    
                        </div>
                        <div class="row justify-content-center">
                            <font align='center'><b>{{df_review['reviewerName'].loc[i]}}
                            </b></font>
                        </div>
                    </div>
                    <div class="col-md-9">
                    <font align='justify'>{{df_review['reviewText'].loc[i]}}
                        </font>
                    </div>
                </div>
            
                {% endfor %}
            </div>
            </div>
        </div>
    </div>  

<div class="row mt-4 mb-2 justify-content-center">
<h3>Similar Product</h3>
</div>
    <div class="col-md-10 mx-auto">
            <div class="row justify-content-center mx-auto">
{% for i in index_similar %}
<div class="col-md-2">
        <div class="card w-110 h-100">
        <img src="{{similar_df['imUrl'].loc[i]}}" height="100px" width="80px" class="ml-4 mt-2" alt="...">
        <div class="card-body d-flex flex-column">
            <font size=1 class="card-title">{{' '.join(similar_df['title'].loc[i].split()[:6])}}</font>
            <a href="/detail?index={{i}}" class="btn btn-success mt-auto">See</a>
        </div>
        </div>
</div>
{% endfor %}
</div>
</div>
{% endblock body %}